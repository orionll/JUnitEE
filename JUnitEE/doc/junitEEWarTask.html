<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
  <head>
    <meta name="generator" content=
    "HTML Tidy for Windows (vers 1st May 2002 [Terry&#39;s build]), see www.w3.org">

    <title>JUnitEEWarTask description</title>
    <link rel="stylesheet" href="stylesheet.css" type="text/css">
  </head>

  <body>
    <table>
      <tr>
        <td colspan="3">
          <table cellspacing="0" cellpadding="0" width="100%">
            <tr>
              <td class="pageTitle">JUnitEEWarTask description</td>
            </tr>
          </table>
        </td>
      </tr>

      <tr>
        <td valign="top" align="left">
          <table width="100%" height="100%" border="0" cellspacing="2"
          cellpadding="2" class="menuTable">
            <tr>
              <td class="menu"><a class="menu" href=
              "index.html">Home</a></td>
            </tr>

            <tr>
              <td class="menu"><a class="menu" href=
              "news.html">News</a></td>
            </tr>

            <tr>
              <td class="menuSelected"><a class="menuSelected" href=
              "documentation.html">Documentation</a></td>
            </tr>

            <tr>
              <td class="menu"><a class="menu" href=
              "http://sourceforge.net/project/showfiles.php?group_id=31476">
              Download</a></td>
            </tr>

            <tr>
              <td class="menu"><a class="menu" href=
              "http://sourceforge.net/projects/junitee">Project
              page</a></td>
            </tr>

            <tr>
              <td class="menu"><a class="menu" href=
              "http://junitee.sourceforge.net/contact.html">Contact</a></td>
            </tr>

            <tr>
              <td class="menu"><a class="menu" href=
              "http://www.c2.com/cgi/wiki?JunitEe">JUnitEE
              Wiki</a></td>
            </tr>

            <tr>
              <td>&#160;</td>
            </tr>

            <tr>
              <td>&#160;</td>
            </tr>
          </table>
        </td>

        <td>&#160;&#160;&#160;&#160;</td>

        <td width="100%" valign="top">
          <table cellspacing="0" cellpadding="0" width="100%">
            <tr>
              <td class="sectionTitle">Introduction</td>
            </tr>
          </table>

          <p>The purpose of this Ant task is to help you to build your
          <code>.war</code> file containing your JUnit tests.</p>

          <p>This target will build for you the <tt>.war</tt> as it is
          described in the <a href="tutorial.html">tutorial</a>.</p>

          <p>The task will :</p>

          <ul>
            <li>create the UI form (<a href="tutorial.html#step5">step
            5 of tutorial</a> )</li>

            <li>create the <tt>web.xml</tt> deployment descriptor (<a
            href="tutorial.html#step6">step 6 of tutorial</a> )</li>

            <li>Package the test WAR (<a href=
            "tutorial.html#step7">step 7 of tutorial</a> )</li>
          </ul>

          <table cellspacing="0" cellpadding="0" width="100%">
            <tr>
              <td class="sectionTitle"><code>JUnitEEWarTask</code> Ant
              Task declaration</td>
            </tr>
          </table>

          <p>The first step in using a task not included in the Ant
          distribution is to declare a new task in your build script.
          For JUnitEEWarTask you add</p>
<pre>
&lt;taskdef name=&quot;junitEEWar&quot; classname=&quot;org.junitee.anttask.JUnitEEWarTask&quot;&gt;
  &lt;classpath&gt;
    &lt;pathelement location=&quot;lib/junitee-anttask.jar&quot;/&gt;
  &lt;/classpath&gt;
&lt;/taskdef&gt;
</pre>

          <p>to your build script.You have to replace
          <code>lib/junitee-anttaks.jar</code> in this example with the
          location of the <code>junitee-anttask.jar</code> in your
          directory structure.</p>

          <p>Now that Ant knows about the <code>junitEEWar</code> task,
          you may use it in the build script like any other Ant
          task.</p>

          <p>We will now describe the attributes and nested elements
          you can use with this task.</p>

          <table align="center" width="90%" cellspacing="2"
          cellpadding="2">
            <tr>
              <td colspan="3" class="top">&#160;</td>
            </tr>

            <tr>
              <td colspan="3" class="tabletitle">parameters of
              <tt>JUnitEEWarTask</tt> Ant Task</td>
            </tr>

            <tr>
              <td class="tablehead">Parameter</td>

              <td class="tablehead">Description</td>

              <td class="tablehead">Required</td>
            </tr>

            <tr>
              <td align="center">destFile</td>

              <td>the WAR file to create</td>

              <td align="center">Yes</td>
            </tr>

            <tr>
              <td align="center">testJarName</td>

              <td>This parameter defines the name of the <tt>.jar</tt>
              (no directory) name which will eventually contain all the
              test classes (this <tt>.jar</tt> file will contain all
              the classes defined in the nested
              <tt>&lt;classes&gt;</tt> element).If this parameter is
              not set, the test classes will be stored in the
              <tt>WEB-INF/classes</tt> directory of the <tt>war</tt>
              file.</td>

              <td align="center">No</td>
            </tr>

            <tr>
              <td colspan="3" class="footer">&#160;</td>
            </tr>
          </table>
          <br>
          <br>
           

          <table align="center" width="90%" cellspacing="2"
          cellpadding="2">
            <tr>
              <td colspan="3" class="top">&#160;</td>
            </tr>

            <tr>
              <td colspan="3" class="tabletitle">Nested elements of
              <tt>JUnitEEWarTask</tt> Ant Task</td>
            </tr>

            <tr>
              <td class="tablehead">Nested element</td>

              <td class="tablehead">Description</td>

              <td class="tablehead">Required</td>
            </tr>

            <tr>
              <td align="center">lib</td>

              <td>The nested <tt>lib</tt> element specifies a FileSet.
              All files included in this fileset will end up in the
              <tt>WEB-INF/lib</tt> directory of the war file.</td>

              <td align="left">Yes.<br>
               Should contain at least a reference to
              <tt>junitee.jar</tt> and <tt>junit.jar</tt></td>
            </tr>

            <tr>
              <td align="center">classes</td>

              <td>The nested <tt>classes</tt> element specifies a
              FileSet. All files included in this fileset will end up
              in the <tt>WEB-INF/classes</tt> directory of the
              <tt>.war</tt> file.</td>

              <td align="left">Yes/No.<br>
              You define here your own test classes, so this parameter
              is required except if your test classes are already
              bundled in a <tt>.jar</tt> file included in the
              <tt>lib</tt> nested element.<br>
              </td>
            </tr>

            <tr>
              <td align="center">testcases</td>

              <td>The nested <tt>testcases</tt> element specifies a
              FileSet. All files included in this fileset are the
              <tt>Junit</tt> test cases which will be ran.This list is
              used to generate the <tt>build.xml</tt> which will be
              bundled in our <tt>.war</tt> file.</td>

              <td align="center">No.</td>
            </tr>

            <tr>
              <td align="center">ejbRef</td>

              <td>
                This nested element allows you to include in the
                <tt>web.xml</tt> of your <tt>.war</tt>file any
                <tt>&lt;ejb-ref&gt;</tt> elements. 

                <p>This element has the following attributes:</p>

                <ul>
                  <li>ejbRefName: to set <tt>&lt;ejb-ref-name&gt;</tt>
                  value</li>

                  <li>ejbRefType: to set <tt>&lt;ejb-ref-type&gt;</tt>
                  value</li>

                  <li>home: to set <tt>&lt;home&gt;</tt> value</li>

                  <li>remote:to set <tt>&lt;remote&gt;</tt> value</li>
                </ul>
                <br>
                <br>
              </td>

              <td align="center">No.</td>
            </tr>

            <tr>
              <td colspan="3" class="footer">&#160;</td>
            </tr>
          </table>
          <br>
          <br>
           

          <table cellspacing="0" cellpadding="0" width="100%">
            <tr>
              <td class="sectionTitle">Example</td>
            </tr>
          </table>

          <p>Consider that you have a project with the followng
          characteristics:</p>

          <ul>
            <li>the classes to test are compiles in the directory
            <code>build/classes</code></li>

            <li>the test classes are compiled in the directory
            <code>build/test</code></li>

            <li>the test classes names have <code>Test</code> as a
            prefix</li>

            <li>the <code>.jar</code> files you need are stored in the
            <code>lib</code> directory</li>
          </ul>

          <p>The following Ant <code>junitEEWar</code> target will
          :</p>

          <ul>
            <li>build a file called <code>myTest.war</code></li>

            <li>once it is deployed, the access to
            <code>http://your.server:port/myTest/index.html</code> will
            allow you to test individually all your test classes</li>
          </ul>
<pre>
    &lt;junitEEWar destFile=&quot;myTest.war&quot;&gt;
      &lt;lib dir=&quot;lib&quot; includes=&quot;junitee.jar&quot;/&gt;
      &lt;lib dir=&quot;lib&quot; includes=&quot;junit.jar&quot;/&gt;
      &lt;classes dir=&quot;build/classes&quot;&gt;
        &lt;include name=&quot;**/*.class&quot;/&gt;
      &lt;/classes&gt;
      &lt;classes dir=&quot;build/test&quot;&gt;
        &lt;include name=&quot;**/*.class&quot;/&gt;
      &lt;/classes&gt;
      &lt;testcases dir=&quot;build/test&quot;&gt;
        &lt;include name=&quot;**/Test*.class&quot;/&gt;
      &lt;/testcases&gt;
    &lt;/junitEEWar&gt;
</pre>

          <table cellspacing="0" cellpadding="0" width="100%">
            <tr>
              <td align="right" valign="middle" colspan="2">&#160;</td>
            </tr>

            <tr>
              <td align="right" valign="middle" colspan="2">&#160;</td>
            </tr>

            <tr>
              <td align="right" valign="middle" class="footer" colspan=
              "2">&#160;</td>
            </tr>

            <tr>
              <td align="right" valign="middle" width="50%">This
              project is hosted by&#160;</td>

              <td align="left" valign="middle" width="50%"><a href=
              "http://sourceforge.net"><img src=
              "http://sourceforge.net/sflogo.php?group_id=null" width=
              "88" height="31" border="0" alt="SourceForge Logo">
              </a></td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>

